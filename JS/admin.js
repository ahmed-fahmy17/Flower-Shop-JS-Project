var data = {
  "flowers": [
    {
      "id": 1,
      "name": "Mugunghwa",
      "meaning": "Symbolizes immortality and perseverance. The national flower of South Korea.",
      "image": "flower1.jpg",
      "price": 10.99,
      "description": "Beautiful red rose symbolizing immortality and perseverance.",
      "category": "National Flowers",
      "seller": {
        "id": 1
      },
      "stock": 50
    },
    {
      "id": 2,
      "name": "Begonia",
      "meaning": "Represents gratitude and harmony. Often given to express appreciation.",
      "image": "flower2.jpg",
      "price": 12.99,
      "description": "Elegant white lily representing gratitude and harmony.",
      "category": "Expressive Lilies",
      "seller": {
        "id": 2
      },
      "stock": 30
    },
    {
      "id": 3,
      "name": "Chrysanthemum",
      "meaning": "Symbolizes longevity and uprightness. A popular motif in traditional Korean art.",
      "image": "flower3.jpg",
      "price": 16.99,
      "description": "Elegant white lily symbolizing longevity and uprightness.",
      "category": "Traditional Lilies",
      "seller": {
        "id": 1
      },
      "stock": 20
    },
    {
      "id": 4,
      "name": "Orchid",
      "meaning": "Represents refinement, friendship, and noble character. Associated with elegance.",
      "image": "flower4.jpg",
      "price": 16.99,
      "description": "Elegant white lily representing refinement, friendship, and noble character.",
      "category": "Elegant Lilies",
      "seller": {
        "id": 2
      },
      "stock": 20
    },
    {
      "id": 5,
      "name": "Apricot Blossom",
      "meaning": "Symbolizes purity and endurance. Used in Korean poetry and art.",
      "image": "flower5.jpg",
      "price": 16.99,
      "description": "Elegant white lily symbolizing purity and endurance.",
      "category": "Poetic Lilies",
      "seller": {
        "id": 1
      },
      "stock": 20
    },
    {
      "id": 6,
      "name": "Dahlia",
      "meaning": "Represents inner strength and elegance. Known for its vibrant and diverse colors.",
      "image": "flower6.jpg",
      "price": 14.99,
      "description": "Elegant white lily symbolizing inner strength and elegance.",
      "category": "Vibrant Lilies",
      "seller": {
        "id": 6
      },
      "stock": 25
    },
    {
      "id": 7,
      "name": "Plum Blossom",
      "meaning": "Represents resilience and beauty through adversity. Associated with spring.",
      "image": "flower7.jpg",
      "price": 16.99,
      "description": "Elegant white lily symbolizing resilience and beauty through adversity.",
      "category": "Seasonal Lilies",
      "seller": {
        "id": 3
      },
      "stock": 20
    },
    {
      "id": 8,
      "name": "Azalea",
      "meaning": "Symbolizes femininity and softness. Used to express admiration.",
      "image": "flower8.jpg",
      "price": 16.99,
      "description": "Elegant Azalea symbolizing femininity and softness.",
      "category": "Admiration Flowers",
      "seller": {
        "id": 3
      },
      "stock": 20
    },
    {
      "id": 9,
      "name": "Camellia",
      "meaning": "Represents admiration and perfection. Associated with waiting with faith.",
      "image": "flower9.jpg",
      "price": 16.99,
      "description": "Elegant Camellia symbolizing admiration and perfection.",
      "category": "Faithful Flowers",
      "seller": {
        "id": 3,
        "contact": "floralboutique@example.com"
      },
      "stock": 20
    },
    {
      "id": 10,
      "name": "Peach Blossom",
      "meaning": "Symbolizes longevity and happiness. Used in celebrations and festivals.",
      "image": "flower10.jpg",
      "price": 16.99,
      "description": "Elegant Peach Blossom symbolizing longevity and happiness.",
      "category": "Festive Flowers",
      "seller": {
        "id": 4
      },
      "stock": 20
    },
    {
      "id": 11,
      "name": "Tulip",
      "meaning": "Represents a declaration of love. Different colors convey specific emotions.",
      "image": "flower11.jpg",
      "price": 16.99,
      "description": "Elegant Tulip symbolizing a declaration of love.",
      "category": "Romantic Flowers",
      "seller": {
        "id": 1
      },
      "stock": 20
    },
    {
      "id": 12,
      "name": "Rose",
      "meaning": "Symbolizes love, passion, and beauty. Different colors convey different sentiments.",
      "image": "flower12.jpg",
      "price": 16.99,
      "description": "Elegant Rose symbolizing love, passion, and beauty.",
      "category": "Romantic Flowers",
      "seller": {
        "id": 2
      },
      "stock": 20
    },
    {
      "id": 13,
      "name": "Lily",
      "meaning": "Represents purity and virtue. Associated with motherhood and renewal.",
      "image": "flower13.jpg",
      "price": 16.99,
      "description": "Elegant Lily symbolizing purity and virtue.",
      "category": "Symbolic Flowers",
      "seller": {
        "id": 2
      },
      "stock": 18
    },
    {
      "id": 14,
      "name": "Sunflower",
      "meaning": "Symbolizes adoration and loyalty. Represents warmth and positivity.",
      "image": "flower14.jpg",
      "price": 16.99,
      "description": "Elegant Sunflower symbolizing adoration and loyalty.",
      "category": "Cheerful Flowers",
      "seller": {
        "id": 2
      },
      "stock": 16
    },
    {
      "id": 15,
      "name": "Daisy",
      "meaning": "Represents innocence and purity. Often associated with new beginnings.",
      "image": "flower15.jpg",
      "price": 16.99,
      "description": "Elegant Daisy symbolizing innocence and purity.",
      "category": "Symbolic Flowers",
      "seller": {
        "id": 2
      },
      "stock": 20
    },
    {
      "id": 16,
      "name": "Daffodil",
      "meaning": "Symbolizes rebirth and new beginnings. Represents the arrival of spring.",
      "image": "flower16.jpg",
      "price": 16.99,
      "description": "Elegant Daffodil symbolizing rebirth and new beginnings.",
      "category": "Spring Flowers",
      "seller": {
        "id": 4
      },
      "stock": 20
    },
    {
      "id": 17,
      "name": "Peony",
      "meaning": "Represents prosperity, honor, and compassion. Associated with wealth and good fortune.",
      "image": "flower17.jpg",
      "price": 16.99,
      "description": "Elegant Peony symbolizing prosperity, honor, and compassion.",
      "category": "Symbolic Flowers",
      "seller": {
        "id": 4
      },
      "stock": 20
    },
    {
      "id": 18,
      "name": "Daisy Delight",
      "meaning": "Represents cheerfulness and innocence. Often associated with simplicity and purity.",
      "image": "flower18.jpg",
      "price": 14.99,
      "description": "Charming Daisy representing cheerfulness and innocence.",
      "category": "Cheerful Blooms",
      "seller": {
        "id": 1
      },
      "stock": 25
    },
    {
      "id": 19,
      "name": "Vibrant Tulip",
      "meaning": "Symbolizes passion and elegance. Different colors convey specific emotions.",
      "image": "flower19.jpg",
      "price": 18.99,
      "description": "Elegant Tulip symbolizing passion and elegance.",
      "category": "Passionate Petals",
      "seller": {
        "id": 3
  
      },
      "stock": 15
    },
    {
      "id": 20,
      "name": "Harmony Orchid",
      "meaning": "Represents unity and refinement. Associated with elegance and friendship.",
      "image": "flower20.jpg",
      "price": 19.99,
      "description": "Exquisite Orchid symbolizing unity and refinement.",
      "category": "Elegant Blooms",
      "seller": {
        "id": 3
   
      },
      "stock": 18
    },
    {
      "id": 21,
      "name": "Radiant Sunflower",
      "meaning": "Symbolizes positivity and joy. Represents adoration and loyalty.",
      "image": "flower21.jpg",
      "price": 17.99,
      "description": "Vibrant Sunflower radiating positivity and joy.",
      "category": "Joyful Blooms",
      "seller": {
        "id": 4
      },
      "stock": 22
    },
    {
      "id": 22,
      "name": "Serene Lily",
      "meaning": "Represents tranquility and peace. Associated with purity and renewal.",
      "image": "flower22.jpg",
      "price": 15.99,
      "description": "Graceful Lily symbolizing tranquility and peace.",
      "category": "Tranquil Blooms",
      "seller": {
        "id": 4
     
      },
      "stock": 20
    },
    {
      "id": 23,
      "name": "Enchanting Rose",
      "meaning": "Symbolizes enchantment and mystery. Different colors convey diverse sentiments.",
      "image": "flower23.jpg",
      "price": 21.99,
      "description": "Captivating Rose symbolizing enchantment and mystery.",
      "category": "Enchanting Blooms",
      "seller": {
        "id": 4
      
      },
      "stock": 16
    },
    {
      "id": 24,
      "name": "Eternal Chrysanthemum",
      "meaning": "Represents everlasting beauty and vitality. A symbol of honor and positive energy.",
      "image": "flower24.jpg",
      "price": 20.99,
      "description": "Timeless Chrysanthemum symbolizing everlasting beauty and vitality.",
      "category": "Eternal Blooms",
      "seller": {
        "id": 1
  
      },
      "stock": 19
    },{
    "id": 25,
    "name": "Vivid Violet",
    "meaning": "Symbolizes enchantment and mystery. Associated with imagination and creativity.",
    "image": "flower25.jpg",
    "price": 18.99,
    "description": "Colorful Violet symbolizing enchantment and mystery, perfect for expressing imagination and creativity.",
    "category": "Artistic Blooms",
    "seller": {
      "id": 3

    },
    "stock": 21
  }
  
  
  
  
  ],
  "sellers": [
    {
      "id": 1,
      "name": "FlowerShop1",
      "role": "seller",
      "location": "Cityville",
      "contact": "flowershop1@example.com",
      "products": [1, 3, 5,11,18,24],
      "password":"123"
    },
    {
      "id": 2,
      "name": "FloralBoutique",
      "role": "seller",
      "location": "Townsville",
      "contact": "floralboutique@example.com",
      "products": [2, 4, 6, 12, 13, 14, 15],
      "password":"123"
    },
    {
      "id": 3,
      "name": "FloralEmporium",
      "role": "seller",
      "location": "Meadowville",
      "contact": "floralemporium@example.com",
      "products": [7, 8, 9, 19, 20, 25],
      "password":"123"
    },
    {
      "id": 4,
      "name": "SunShine",
      "role": "seller",
      "location": "Paris",
      "contact": "SunShine@example.com",
      "products": [10, 16, 17, 21, 22, 23],
      "password":"123"
    }
  ],
  "users": [
    {
      "id": 1,
      "username": "admin",
      "role": "admin",
      "email": "admin@example.com",
      "password":"123"
    },
    {
      "id": 1,
      "username": "admin",
      "role": "admin",
      "email": "admin@example.com",
      "password":"123"
    },
    {
      "id": 1,
      "username": "admin",
      "role": "admin",
      "email": "admin@example.com",
      "password":"123"
    },
    {
      "id": 1,
      "username": "admin",
      "role": "admin",
      "email": "admin@example.com",
      "password":"123"
    },

  ],
  "request_seller":[],
  "logged_user":[
    {
      "id": 1,
      "username": "admin",
      "role": "admin",
      "email": "admin@example.com",
      "password":"123"
    }
   
  ]
}

window.addEventListener("load", function () {
  let page  = "";
  var lastsorted = ""
  var content = document.getElementById("content");
  var links = document.querySelectorAll(".data .side .main-list > a");
  let flowersData = JSON.parse(localStorage.getItem("flowersData")) || [];
  let sellersData = JSON.parse(localStorage.getItem("sellersData")) || [];
  let usersData = JSON.parse(localStorage.getItem("usersData")) || [];
  let ordersData = JSON.parse(localStorage.getItem("ordersData")) || [];
  // let flowersData = data['flowers'];
  // let sellersData = data['sellers'];
  // let usersData = data['users'];
  // let ordersData = data['orders'];
  for (let i = 0; i < links.length; i++) {
    links[i].addEventListener('click', (e)=>{
      page = e.target.classList[0].toLowerCase().trim();
      var items;
      switch (page){
        case "products":
          items = flowersData;
          break;

        case "sellers":
          items = sellersData;
          break;
          
        case "users":
          items = usersData;
          break;
          
        case "orders":
          items = ordersData;
          break;

        default: 
          items = [];
          break;
      }

      if(page != "main"){
        content.innerHTML = "";
        content.classList.add("scrollable");
        displaySearchInput(items, page);
        createTableStructure();
        displayHead(items);
        displayTable(items,page);
        arrangeData(items);
        document.getElementById("search").addEventListener("keyup", function (e) {
          let tableHead = document.querySelector(".table-responsive table thead tr");
          let newItems = items.filter(function (a) {
            
            // let cellContent = "";
            // for (let i = 0; i < heads.length - 1; i++) {
            //   cellContent = a[heads[i].textContent];
            //   if(heads[i].textContent.includes(' ')){
            //     let keys = heads[i].textContent.split(' ');
            //     cellContent = a[keys[0]][keys[1]];
            //   } 
            //   console.log(cellContent.toString().toUpperCase().includes(document.getElementById("search").value.toUpperCase()));
            //   // console.log(document.getElementById("search").value.toUpperCase())
            // }
            // if(cellContent.toString().toUpperCase().includes(document.getElementById("search").value.toUpperCase())){
            //   console.log(a);
            // }
            // console.log(a['id'])

            switch (page){
              case "products":
                items = flowersData;
                return (a['id'].toString().toUpperCase().includes(document.getElementById("search").value.toUpperCase()) || 
                  a['name'].toString().toUpperCase().includes(document.getElementById("search").value.toUpperCase()) ||
                  a['category'].toString().toUpperCase().includes(document.getElementById("search").value.toUpperCase()) ||
                  a['price'].toString().toUpperCase().includes(document.getElementById("search").value.toUpperCase()) ||
                  a['seller']['id'].toString().toUpperCase().includes(document.getElementById("search").value.toUpperCase()) ||
                  a['stock'].toString().toUpperCase().includes(document.getElementById("search").value.toUpperCase())
                );
                break;
      
              case "sellers":
                return (a['id'].toString().toUpperCase().includes(document.getElementById("search").value.toUpperCase()) || 
                  a['username'].toString().toUpperCase().includes(document.getElementById("search").value.toUpperCase()) ||
                  a['email'].toString().toUpperCase().includes(document.getElementById("search").value.toUpperCase()) ||
                  a['password'].toString().toUpperCase().includes(document.getElementById("search").value.toUpperCase())
                );
                break;
                
              case "sellers":
                return (a['id'].toString().toUpperCase().includes(document.getElementById("search").value.toUpperCase()) || 
                  a['name'].toString().toUpperCase().includes(document.getElementById("search").value.toUpperCase()) ||
                  a['location'].toString().toUpperCase().includes(document.getElementById("search").value.toUpperCase()) ||
                  a['contact'].toString().toUpperCase().includes(document.getElementById("search").value.toUpperCase()) ||
                  a['password'].toString().toUpperCase().includes(document.getElementById("search").value.toUpperCase())
                );
                break;
                
                
              case "orders":
                return (a['id'].toString().toUpperCase().includes(document.getElementById("search").value.toUpperCase()) || 
                  a['name'].toString().toUpperCase().includes(document.getElementById("search").value.toUpperCase()) ||
                  a['location'].toString().toUpperCase().includes(document.getElementById("search").value.toUpperCase()) ||
                  a['contact'].toString().toUpperCase().includes(document.getElementById("search").value.toUpperCase()) ||
                  a['password'].toString().toUpperCase().includes(document.getElementById("search").value.toUpperCase()) ||
                  a['date'].toLocaleDateString("EN-EG").includes(document.getElementById("search").value.toUpperCase())
                );
                break;
      
              default: 
                return;
                break;
            }
          });
          displayTable(newItems,page);
      });
      }
      else {

        
      }
    }) 
  }

  function createCharts(){
    let ctx1= document.querySelector(".ctx1");
     let ctx2=document.querySelector(".ctx2");
  ctx1.width = 400;
  ctx1.height = 200;
  ctx2.width = 400;
  ctx2.height = 200;
  let FlowersDate = JSON.parse(localStorage.getItem("flowersData")) || [];
// let sellerData = JSON.parse(localStorage.getItem("sellerData")) || [];
  const filteredFlowers = FlowersDate.filter(
    (product) =>  product.stock > 0
  );
  const barChartConfig = {
    type: "bar",
    data: {
      labels: filteredFlowers.map((data) => data.name),
      datasets: [
        {
          label: "Stock Numbers",
          data: filteredFlowers.map((data) => data.stock),
          backgroundColor: "#ca9cbc",
          borderColor: "lavender",
          borderWidth: 1,
        },
      ],
    },
    options: {
      scales: {
        y: {
          beginAtZero: true,
        },
      },
    },
  };
  new Chart(ctx1, barChartConfig);

  //chart 2

  const secondBarChartConfig = {
    type: "bar",
    data: {
      labels: filteredFlowers.map((data) => data.name),
      datasets: [
        {
          label: "Product Price",
          data: filteredFlowers.map((data) => data.price),
          backgroundColor: "#c7dbef",
          borderColor: "lavender",
          borderWidth: 1,
        },
      ],
    },
    options: {
      scales: {
        y: {
          beginAtZero: true,
        },
      },
    },
  };
  new Chart(ctx2, secondBarChartConfig);
  }
  createCharts()
  function createTableStructure() {
    let content = document.getElementById("content");
    let table_container = document.createElement("div");
    table_container.classList.add("table-responsive");
    let my_table = document.createElement("table");
    my_table.className = "table text-center table-hover";
    my_table.setAttribute("id","itemTable");
    let my_head = document.createElement("thead");
    let my_head_Row = document.createElement("tr");
    my_head.classList.add("table-light");
    my_head.appendChild(my_head_Row);
    let my_body = document.createElement("tbody");
    my_body.setAttribute("id","tableList");
    my_table.appendChild(my_head);
    my_table.appendChild(my_body);
    table_container.appendChild(my_table);
    content.appendChild(table_container);
  }
  
  function displaySearchInput(items, page){
    let content = document.getElementById("content");
    let search_container = document.createElement("div");
    let input_container = document.createElement("div");
    let count_container = document.createElement("div");
    let items_count = document.createElement("div");
    let items_name = document.createElement("span");
    let search_input = document.createElement("input");
    let serach_label = document.createElement("label");
    search_container.className = "search-container d-flex justify-content-between";
    serach_label.textContent = "Search: ";
    serach_label.setAttribute("for", "search");
    search_input.setAttribute("type","text");
    search_input.setAttribute("id","search");
    search_input.setAttribute("placeholder","search");
    search_input.setAttribute("size","15");
    input_container.appendChild(serach_label);
    input_container.appendChild(search_input);
    count_container.className = "count";
    items_name.textContent = `${page} : `;
    items_count.appendChild(items_name);
    items_count.appendChild(document.createTextNode(`${items.length}`));
    count_container.appendChild(items_count);
    search_container.appendChild(count_container);
    search_container.appendChild(input_container);
    content.appendChild(search_container);
  }

  function getSellerById(sellerId) {
    return sellerData.find((seller) => seller.id === sellerId);
  }
  function getUserById(userId) {
    return userData.find((user) => user.id === userId);
  }

  function displayHead(items) {
    let tableHead = document.querySelector("#content #itemTable thead tr");
    let heads = Object.keys(items[0]);
    tableHead.innerHTML = "";
    for(let i=0; i<heads.length; i++){
      if(heads[i] != "role" && heads[i] != "products" && heads[i] != "description" && heads[i] != "meaning" && heads[i] != "image"){
        let head = document.createElement("th");
        // let headInner = document.createElement("span");
        // head.appendChild(headInner);
        head.setAttribute("scope", "col");
        // headInner.textContent = heads[i];
        head.textContent = heads[i];
        head.textContent = heads[i];
        if( typeof items[0][heads[i]] == "object"){
          // headInner.textContent = `${heads[i]} ${Object.keys(items[0][heads[i]])[0]}`;
          head.textContent = `${heads[i]} ${Object.keys(items[0][heads[i]])[0]}`;
        }
        tableHead.appendChild(head);
      }
    }
    let delHead = document.createElement("th");
    delHead.setAttribute("scope", "col");
    delHead.textContent = "delete";
    tableHead.appendChild(delHead);
  }

  function displayRow(item) {
    let tableHead = document.querySelector("#content #itemTable thead tr");
    const row = document.createElement("tr");
    for (let i = 0; i < tableHead.children.length; i++) {
      const Cell = document.createElement("td");
      if(tableHead.children[i].textContent.includes(' ')){
        let words = tableHead.children[i].textContent.split(' ');
        Cell.textContent = item[words[0]][words[1]];
      }
      else{
        Cell.textContent = item[tableHead.children[i].textContent];
      }
      row.appendChild(Cell);
    }

    const deleteButton = document.createElement("button");
    deleteButton.className = "btn btn-danger";
    deleteButton.style.width = "90px";
    deleteButton.textContent = "Delete";
    deleteButton.addEventListener("click", (e) => deleteItem(item.id, e));
    row.children[row.children.length - 1].appendChild(deleteButton);
    return row;
  }

  function displayTable(items) {
    const tableListContainer = document.getElementById("tableList");
    tableListContainer.innerHTML = "";
    items.forEach((item) => {
      const row = displayRow(item);
      tableListContainer.appendChild(row);
    });
  }

  function deleteItem(itemId) {
    // const confirmed = confirm(
    //   `Are you sure you want to delete product with ID ${itemId}?`
    // );
    const swalWithBootstrapButtons = Swal.mixin({
      customClass: {
        confirmButton: "btn btn-success",
        cancelButton: "btn btn-danger",
      },
      buttonsStyling: false,
    });

    swalWithBootstrapButtons
      .fire({
        title: "Are you sure?",
        text: "You won't be able to revert this!",
        icon: "warning",
        showCancelButton: true,
        confirmButtonText: "delete ",
        cancelButtonText: "cancel",
        reverseButtons: true,
      })
      .then((result) => {
        if (result.isConfirmed) {
          swalWithBootstrapButtons.fire(
            "Deleted!",
            "Your file has been deleted.",
            "success"
          );
          const itemIndex = flowersData.findIndex(
            (item) => item.id === itemId
          );

          if (itemIndex !== -1) {
            if(page.toLowerCase() == "products"){
              flowersData.splice(itemIndex, 1);
              localStorage.setItem("flowersData", JSON.stringify(flowersData));
              displayTable(flowersData, "products");
            }
            else if(page.toLowerCase() == "users"){
              usersData.splice(itemIndex, 1);
              localStorage.setItem("usersData", JSON.stringify(data['users']));
              displayTable(usersData, "users");
            }
            else if(page.toLowerCase() == "sellers"){
              sellersData.splice(itemIndex, 1);
              localStorage.setItem("sellersData", JSON.stringify(sellersData));
              displayTable(sellersData,"sellers");
            }
            else if(page.toLowerCase() == "orders"){
              ordersData.splice(itemIndex, 1);
              ordersData.setItem("sellersData", JSON.stringify(ordersData));
              displayTable(ordersData, "orders");
            }
            // const sellerProducts = items.filter(
            //   (item) => item.id === itemId
            // );
            // displayTable(sellerProducts);
          } else {
            console.error(`Product with ID ${itemId} not found`);
          }
        } else if (
          /* Read more about handling dismissals below */
          result.dismiss === Swal.DismissReason.cancel
        ) {
          swalWithBootstrapButtons.fire(
            "Cancelled",
            "Your imaginary file is safe :)",
            "error"
          );
        }
      });
  }
  
  function arrangeData(items){
    let tableHead = document.querySelector("#content #itemTable thead tr");
    tableHead.addEventListener("click", function(e){
      let heads = document.querySelectorAll("#content #itemTable thead tr th");
      if(!e.target.classList.contains("asc")){
        for (let i = 0; i < heads.length; i++) {
          heads[i].classList.remove("desc");
          heads[i].classList.remove("asc");
        }
        e.target.classList.add("asc");
      }
      else if(!e.target.classList.contains("desc")){
        for (let i = 0; i < heads.length; i++) {
          heads[i].classList.remove("desc");
          heads[i].classList.remove("asc");
        }
        e.target.classList.add("desc");
      }

      if (lastsorted == e.target.textContent) {
        displayTable(items.reverse());
        return;
      }
      else if (e.target.textContent == "delete"){
        return;
      }

      items.sort(function(a, b){
        let firstKey = a[e.target.textContent];
        let secondKey = b[e.target.textContent];
        if(e.target.textContent.includes(' ')){
          firstKey = a[e.target.textContent.split(' ')[0]][e.target.textContent.split(' ')[1]];
          secondKey = b[e.target.textContent.split(' ')[0]][e.target.textContent.split(' ')[1]];
        }

        if(isNaN(firstKey))
          return firstKey.localeCompare(secondKey);
        else
          return firstKey - secondKey;
      })
      lastsorted = e.target.textContent;
      displayTable(items);
    });
  }
});
